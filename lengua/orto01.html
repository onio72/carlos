<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cuestionario de ortografía</title>
<style>
  :root{
    --bg:#ffffff; --text:#0f172a; --muted:#475569; --card:#f8fafc;
    --ok:#16a34a; --ko:#dc2626; --line:#e2e8f0; --accent:#2563eb;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
       background:var(--bg); color:var(--text); line-height:1.5}
  header{padding:1rem 1rem 0}
  h1{font-size:clamp(1.2rem,2.5vw,1.6rem); margin:0 0 .25rem}
  p.lead{margin:.25rem 0 1rem; color:var(--muted)}
  .wrap{max-width:920px; margin:0 auto; padding:0 1rem 2rem}
  .toolbar{display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; margin:.5rem 0 1rem}
  .score{font-weight:600}
  button{
    border:1px solid var(--line); background:var(--card); padding:.55rem .8rem; border-radius:.6rem;
    cursor:pointer; font-weight:600;
  }
  button:hover{border-color:var(--accent)}
  .card{background:var(--card); border:1px solid var(--line); border-radius:.8rem; padding:1rem; margin:.75rem 0}
  .qtext{margin:0 0 .6rem}
  select{
    font:inherit; padding:.35rem .55rem; border-radius:.5rem; border:1px solid var(--line);
    background:white; min-width:10ch;
  }
  .feedback{margin-left:.5rem; font-weight:600}
  .ok{color:var(--ok)}
  .ko{color:var(--ko)}
  .disabled{opacity:.7}
  .foot{margin-top:1.2rem; font-size:.95rem; color:var(--muted)}
  .pill{display:inline-block; padding:.15rem .5rem; border-radius:999px; background:#eef2ff; color:#3730a3; font-weight:600; font-size:.85rem}
</style>
</head>
<body>
  <header class="wrap">
    <h1>Cuestionario de ortografía</h1>
    <p class="lead">Elige la opción correcta en cada frase. La corrección es inmediata.</p>
  </header>

  <main class="wrap" id="app">
    <div class="toolbar">
      <span class="score" id="score">Aciertos: 0/0</span>
      <button id="new">Otro ejercicio</button>
    </div>
    <div id="list"></div>
    <div class="foot">
      <span class="pill">Ay/Ahí/Hay</span> · <span class="pill">A ver/Haber</span> ·
      <span class="pill">Valla/Vaya/¡Vaya!/Baya</span> · <span class="pill">Por qué/Porque/Por que/Porqué</span> ·
      <span class="pill">Has/Haz/As</span> · <span class="pill">Ah/Ha/A</span> ·
      <span class="pill">Cómo/Como</span> · <span class="pill">Tubo/Tuvo</span> ·
      <span class="pill">Tú/Tu</span> · <span class="pill">Sino/Si no</span> ·
      <span class="pill">Ves/Vez</span> · <span class="pill">Echa/Hecha</span> ·
      <span class="pill">Hacia/Hacía</span> · <span class="pill">Iba/IVA</span>
    </div>
  </main>

<script>
const BANK = [
  // ¡Ay!/Ahí/Hay
  {s:"____, qué golpe me he dado.", opt:["¡Ay!","Ahí","Hay"], a:"¡Ay!", e:"«¡Ay!» expresa dolor; «ahí» es lugar; «hay» es del verbo haber."},
  {s:"Deja el libro ____ sobre la mesa.", opt:["Ahí","¡Ay!","Hay"], a:"Ahí", e:"«Ahí» indica lugar."},
  {s:"En esa caja ____ tres cuadernos.", opt:["Hay","Ahí","¡Ay!"], a:"Hay", e:"«Hay» es <i>haber</i> impersonal."},

  // Haya/Allá/Halla/Haiga (trampa)
  {s:"Mientras no ____ problemas, seguimos.", opt:["haya","halla","allá","haiga"], a:"haya", e:"«haya» es del verbo haber (subj.). «haiga» es vulgarismo."},
  {s:"____ vamos de nuevo...", opt:["Allá","Halla","Haya","Haiga"], a:"Allá", e:"«Allá» = lugar/dirección."},
  {s:"El alumno ____ el valor de x.", opt:["halla","haya","allá","haiga"], a:"halla", e:"«halla» = encontrar."},

  // A ver / Haber
  {s:"____ si mañana llueve.", opt:["A ver","Haber"], a:"A ver", e:"«A ver» = comprobar/observar."},
  {s:"Debiste ____ avisado antes.", opt:["haber","a ver"], a:"haber", e:"Infinitivo del verbo «haber»."},

  // valla / vaya / ¡Vaya! / baya
  {s:"Han puesto una ____ alrededor del jardín.", opt:["valla","vaya","¡Vaya!","baya"], a:"valla", e:"«valla» = cerca/cercado."},
  {s:"Lo mejor será que ____ ahora.", opt:["vaya","valla","baya","¡Vaya!"], a:"vaya", e:"«vaya» = verbo ir (subj.)."},
  {s:"____, qué sorpresa.", opt:["¡Vaya!","valla","vaya","baya"], a:"¡Vaya!", e:"Interjección admirativa."},
  {s:"La ____ es un fruto carnoso.", opt:["baya","valla","vaya","¡Vaya!"], a:"baya", e:"«baya» = tipo de fruto."},

  // por qué / porque / por que / porqué
  {s:"¿____ llegaste tarde?", opt:["Por qué","Porque","Por que","Porqué"], a:"Por qué", e:"Interrogativo: «¿por qué?»"},
  {s:"Llegué tarde ____ perdí el bus.", opt:["porque","porqué","por que","por qué"], a:"porque", e:"Causal: «porque»."},
  {s:"Ese es el motivo ____ no vine.", opt:["por que","porqué","porque","por qué"], a:"por que", e:"Equivale a «por el que»."},
  {s:"No entiendo el ____ de su actitud.", opt:["porqué","porque","por que","por qué"], a:"porqué", e:"Sustantivo: «el porqué»."},

  // Has / Haz / As
  {s:"¿____ visto mis llaves?", opt:["Has","Haz","As"], a:"Has", e:"«Has» del verbo haber (2.ª pers.)."},
  {s:"____ la tarea ahora mismo.", opt:["Haz","Has","As"], a:"Haz", e:"Imperativo de «hacer»."},
  {s:"Ganó la partida con un ____.", opt:["as","has","haz"], a:"as", e:"Sustantivo: carta o persona destacada."},

  // Ah / Ha / A
  {s:"____, ya entiendo.", opt:["Ah","Ha","A"], a:"Ah", e:"Interjección «Ah»."},
  {s:"____ terminado el trabajo.", opt:["Ha","Ah","A"], a:"Ha", e:"Verbo haber (3.ª pers.)."},
  {s:"Se dirige ____ Madrid.", opt:["a","ha","ah"], a:"a", e:"Preposición «a»."},

  // Cómo / Como
  {s:"¿____ te llamas?", opt:["Cómo","Como"], a:"Cómo", e:"Interrogativo con tilde."},
  {s:"____ prefieras; me da igual.", opt:["Como","Cómo"], a:"Como", e:"Conjunción / modo, sin tilde."},

  // Tubo / Tuvo
  {s:"El fontanero cambió el ____.", opt:["tubo","tuvo"], a:"tubo", e:"«tubo» = conducto."},
  {s:"Ayer ____ que quedarse en casa.", opt:["tuvo","tubo"], a:"tuvo", e:"Verbo tener (pretérito)."},  

  // Tú / Tu
  {s:"____ eres el ganador.", opt:["Tú","Tu"], a:"Tú", e:"Pronombre con tilde."},
  {s:"____ idea me parece bien.", opt:["Tu","Tú"], a:"Tu", e:"Adjetivo posesivo, sin tilde."},

  // sino / si no
  {s:"No vino Juan, ____ Ana.", opt:["sino","si no"], a:"sino", e:"«sino» = contraste/excepto."},
  {s:"____ estudias, no aprobarás.", opt:["Si no","Sino"], a:"Si no", e:"Condición: «si no…»"},

  // ves / vez
  {s:"¿Lo ____? Es fácil.", opt:["ves","vez"], a:"ves", e:"Verbo ver (2.ª pers.)."},
  {s:"Es la primera ____. Dale tiempo.", opt:["vez","ves"], a:"vez", e:"Sustantivo «una vez»."},

  // echa / hecha
  {s:"Si está roto, se ____ a la basura.", opt:["echa","hecha"], a:"echa", e:"Verbo echar."},
  {s:"La cena ya está ____.", opt:["hecha","echa"], a:"hecha", e:"Participio de «hacer»."},

  // hacia / hacía
  {s:"Camina ____ el norte.", opt:["hacia","hacía"], a:"hacia", e:"Preposición de dirección."},
  {s:"Antes ____ más frío en invierno.", opt:["hacía","hacia"], a:"hacía", e:"Verbo hacer (pretérito imperfecto)."},

  // iba / IVA
  {s:"____ al mercado cuando empezó a llover.", opt:["Iba","IVA"], a:"Iba", e:"Verbo ir (imperfecto)."},
  {s:"El ____ subió al 21%.", opt:["IVA","Iba"], a:"IVA", e:"Impuesto sobre el Valor Añadido."},
];

const app = document.getElementById('app');
const list = document.getElementById('list');
const scoreEl = document.getElementById('score');
const btnNew = document.getElementById('new');

function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }

let state = { total:0, correct:0 };

function makeExercise(n=12){
  list.innerHTML = '';
  state.correct = 0;
  const sample = shuffle([...BANK]).slice(0, n);
  state.total = sample.length;
  sample.forEach((q, idx)=>{
    const card = document.createElement('div'); card.className='card';
    const qtext = document.createElement('p'); qtext.className='qtext';
    qtext.innerHTML = `<strong>${idx+1}.</strong> ${q.s.replace('____', '<select><option value="" selected disabled>Selecciona…</option></select>')}`;
    card.appendChild(qtext);

    // insert options into the select we just placed
    const sel = qtext.querySelector('select');
    const opts = shuffle([...q.opt]);
    opts.forEach(o=>{
      const opt = document.createElement('option');
      opt.value = o; opt.textContent = o;
      sel.appendChild(opt);
    });

    const fb = document.createElement('span'); fb.className='feedback'; card.appendChild(fb);

    sel.addEventListener('change', ()=>{
      const val = sel.value;
      sel.disabled = true; sel.classList.add('disabled');
      if(val === q.a){
        fb.textContent = '✓ Correcta';
        fb.className = 'feedback ok';
        state.correct++;
      }else{
        fb.innerHTML = `✗ Incorrecta · Correcta: <u>${q.a}</u>`;
        fb.className = 'feedback ko';
      }
      const exp = document.createElement('div');
      exp.style.marginTop='.35rem'; exp.style.color='var(--muted)';
      exp.innerHTML = q.e;
      card.appendChild(exp);
      updateScore();
    }, { once:true });

    list.appendChild(card);
  });
  updateScore();
}

function updateScore(){
  scoreEl.textContent = `Aciertos: ${state.correct}/${state.total}`;
}

btnNew.addEventListener('click', ()=> makeExercise(12));

// Arranque
makeExercise(12);
</script>
</body>
</html>
